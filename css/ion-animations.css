/* =============================================
   ION ANIMATIONS - Unified Visual System
   20 Unique Animation Types
   ============================================= */

/* Base Container */
.ion-anim {
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    border-radius: 16px;
    transition: all 0.3s ease;
}

.ion-anim:hover {
    transform: scale(1.05);
}

/* =============================================
   TYPE 1: pH Indicator Bar
   - 水平渐变条 + 指针
   - 用于: 酸碱性测试
   ============================================= */
.ion-anim-ph {
    flex-direction: column;
    gap: 4px;
    overflow: hidden;
}

.ph-bar {
    width: 64px;
    height: 12px;
    background: linear-gradient(90deg, #ef4444 0%, #f97316 25%, #eab308 50%, #84cc16 75%, #22c55e 100%);
    border-radius: 6px;
    position: relative;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2), 0 1px 2px rgba(0,0,0,0.1);
    overflow: hidden;
}

.ph-bar::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    animation: phShine 4.5s ease-in-out infinite;
}

@keyframes phShine {
    0% { left: -100%; }
    100% { left: 100%; }
}

.ph-pointer {
    width: 6px;
    height: 16px;
    background: linear-gradient(180deg, #1e293b, #475569);
    border-radius: 3px;
    position: absolute;
    top: -2px;
    left: var(--ph-pos, 10%);
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    animation: phPointerMove 6s ease-in-out infinite;
}

@keyframes phPointerMove {
    0%, 100% { left: var(--ph-pos, 10%); }
    50% { left: var(--ph-hover, 80%); }
}

.ph-drops {
    position: absolute;
    width: 100%;
    height: 100%;
}

.ph-drop {
    position: absolute;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    top: -10px;
    animation: phDropFall 3.5s ease-in infinite;
}

.ph-drop:nth-child(1) { left: 20%; background: #ef4444; }
.ph-drop:nth-child(2) { left: 50%; background: #eab308; animation-delay: 1.2s; }
.ph-drop:nth-child(3) { left: 80%; background: #22c55e; animation-delay: 1s; }

@keyframes phDropFall {
    0% { transform: translateY(0); opacity: 1; }
    100% { transform: translateY(20px); opacity: 0; }
}

.ph-label {
    font-size: 0.6rem;
    font-weight: 700;
    color: #64748b;
}

/* =============================================
   TYPE 2: Rising Bubbles
   - 3个气泡上升动画
   - 用于: 气体反应/起泡
   ============================================= */
.ion-anim-bubble {
    overflow: hidden;
    background: rgba(59, 130, 246, 0.08);
}

.bubble-rise {
    width: 12px;
    height: 12px;
    background: rgba(59, 130, 246, 0.7);
    border: 2px solid rgba(59, 130, 246, 0.9);
    border-radius: 50%;
    position: absolute;
    bottom: 10px;
    opacity: 0;
}

.bubble-rise:nth-child(1) { left: 20%; width: 9px; height: 9px; }
.bubble-rise:nth-child(2) { left: 50%; }
.bubble-rise:nth-child(3) { left: 75%; width: 7px; height: 7px; }

.ion-anim-bubble .bubble-rise {
    animation: bubbleUp 6s ease-out infinite;
}

.ion-anim-bubble .bubble-rise:nth-child(2) { animation-delay: 1.2s; }
.ion-anim-bubble .bubble-rise:nth-child(3) { animation-delay: 1s; }

@keyframes bubbleUp {
    0% { opacity: 0; transform: translateY(0) scale(0.6); }
    20% { opacity: 1; }
    100% { opacity: 0; transform: translateY(-40px) scale(1); }
}

/* =============================================
   TYPE 3: Flame Test
   - 火焰形状 + 闪烁
   - 用于: 焰色反应
   ============================================= */
.ion-anim-flame {
    align-items: flex-end;
    padding-bottom: 6px;
}

.flame-shape {
    width: 28px;
    height: 44px;
    background: var(--flame-color, radial-gradient(ellipse at 50% 100%, #fcd34d, #f97316));
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    filter: blur(2px);
    animation: flameFlicker 4.5s ease-in-out infinite alternate;
    box-shadow: 0 0 16px var(--flame-glow, rgba(249, 115, 22, 0.5));
}

@keyframes flameFlicker {
    0% { transform: scaleY(1) scaleX(1); opacity: 0.9; }
    100% { transform: scaleY(1.1) scaleX(0.95); opacity: 1; }
}

/* Flame Colors */
.flame-orange { --flame-color: radial-gradient(ellipse at 50% 100%, #fcd34d, #f97316); --flame-glow: rgba(249, 115, 22, 0.5); }
.flame-red { --flame-color: radial-gradient(ellipse at 50% 100%, #fca5a5, #dc2626); --flame-glow: rgba(220, 38, 38, 0.5); }
.flame-violet { --flame-color: radial-gradient(ellipse at 50% 100%, #e9d5ff, #9333ea); --flame-glow: rgba(147, 51, 234, 0.5); }
.flame-green { --flame-color: radial-gradient(ellipse at 50% 100%, #bbf7d0, #22c55e); --flame-glow: rgba(34, 197, 94, 0.5); }
.flame-blue { --flame-color: radial-gradient(ellipse at 50% 100%, #bfdbfe, #3b82f6); --flame-glow: rgba(59, 130, 246, 0.5); }
.flame-white { --flame-color: radial-gradient(ellipse at 50% 100%, #ffffff, #e2e8f0); --flame-glow: rgba(255, 255, 255, 0.6); }

/* =============================================
   TYPE 4: Dissolving Cube
   - 方块溶解扩散
   - 用于: 溶解性
   ============================================= */
.ion-anim-dissolve {
    background: linear-gradient(180deg, rgba(59, 130, 246, 0.03), rgba(59, 130, 246, 0.12));
    overflow: hidden;
}

.dissolve-cube {
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #94a3b8, #64748b);
    border: 2px solid #475569;
    border-radius: 4px;
    animation: dissolvePulse 5s ease-in-out infinite;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    position: relative;
    z-index: 2;
}

.dissolve-cube::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 6px;
    height: 6px;
    background: rgba(255,255,255,0.4);
    border-radius: 2px;
}

@keyframes dissolvePulse {
    0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
    25% { transform: scale(0.9) rotate(2deg); }
    50% { transform: scale(0.7) rotate(-2deg); opacity: 0.6; }
    75% { transform: scale(0.85) rotate(1deg); }
}

.dissolve-particle {
    position: absolute;
    width: 5px;
    height: 5px;
    background: #64748b;
    border-radius: 50%;
    opacity: 0;
}

.dissolve-particle:nth-child(1) { animation: particleSpread1 4s ease-out infinite; }
.dissolve-particle:nth-child(2) { animation: particleSpread2 4s ease-out 0.15s infinite; }
.dissolve-particle:nth-child(3) { animation: particleSpread3 4s ease-out 0.3s infinite; }
.dissolve-particle:nth-child(4) { animation: particleSpread4 4s ease-out 0.45s infinite; }
.dissolve-particle:nth-child(5) { animation: particleSpread5 4s ease-out 0.6s infinite; }
.dissolve-particle:nth-child(6) { animation: particleSpread6 4s ease-out 0.75s infinite; }
.dissolve-particle:nth-child(7) { animation: particleSpread7 4s ease-out 0.9s infinite; }
.dissolve-particle:nth-child(8) { animation: particleSpread8 4s ease-out 1.05s infinite; }

@keyframes particleSpread1 {
    0% { top: 50%; left: 50%; opacity: 0; transform: scale(0.5); }
    20% { opacity: 1; }
    100% { top: 15%; left: 20%; opacity: 0; transform: scale(1); }
}
@keyframes particleSpread2 {
    0% { top: 50%; left: 50%; opacity: 0; transform: scale(0.5); }
    20% { opacity: 1; }
    100% { top: 10%; left: 50%; opacity: 0; transform: scale(1); }
}
@keyframes particleSpread3 {
    0% { top: 50%; left: 50%; opacity: 0; transform: scale(0.5); }
    20% { opacity: 1; }
    100% { top: 15%; left: 80%; opacity: 0; transform: scale(1); }
}
@keyframes particleSpread4 {
    0% { top: 50%; left: 50%; opacity: 0; transform: scale(0.5); }
    20% { opacity: 1; }
    100% { top: 50%; left: 10%; opacity: 0; transform: scale(1); }
}
@keyframes particleSpread5 {
    0% { top: 50%; left: 50%; opacity: 0; transform: scale(0.5); }
    20% { opacity: 1; }
    100% { top: 50%; left: 90%; opacity: 0; transform: scale(1); }
}
@keyframes particleSpread6 {
    0% { top: 50%; left: 50%; opacity: 0; transform: scale(0.5); }
    20% { opacity: 1; }
    100% { top: 85%; left: 25%; opacity: 0; transform: scale(1); }
}
@keyframes particleSpread7 {
    0% { top: 50%; left: 50%; opacity: 0; transform: scale(0.5); }
    20% { opacity: 1; }
    100% { top: 90%; left: 55%; opacity: 0; transform: scale(1); }
}
@keyframes particleSpread8 {
    0% { top: 50%; left: 50%; opacity: 0; transform: scale(0.5); }
    20% { opacity: 1; }
    100% { top: 80%; left: 80%; opacity: 0; transform: scale(1); }
}

.dissolve-ripple {
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid rgba(100, 116, 139, 0.5);
    border-radius: 50%;
    animation: dissolveRipple 4.5s ease-out infinite;
}

.dissolve-ripple:nth-child(10) { animation-delay: 0.7s; }

@keyframes dissolveRipple {
    0% { width: 20px; height: 20px; opacity: 0.8; }
    100% { width: 70px; height: 70px; opacity: 0; }
}

/* =============================================
   TYPE 5: Color Orb
   - 纯色圆形 + 光晕
   - 用于: 溶液颜色
   ============================================= */
.ion-anim-orb {
    background: transparent;
    overflow: visible;
}

.color-orb {
    width: 46px;
    height: 46px;
    background: var(--orb-color, #3b82f6);
    border-radius: 50%;
    box-shadow:
        0 0 0 5px rgba(255,255,255,0.3),
        0 0 30px var(--orb-glow, rgba(59, 130, 246, 0.5)),
        inset 0 -8px 16px rgba(0,0,0,0.2),
        inset 0 8px 16px rgba(255,255,255,0.3);
    animation: orbPulse 5s ease-in-out infinite;
    position: relative;
    overflow: hidden;
}

.color-orb::before {
    content: '';
    position: absolute;
    top: 6px;
    left: 10px;
    width: 12px;
    height: 8px;
    background: rgba(255,255,255,0.5);
    border-radius: 50%;
    transform: rotate(-30deg);
}

.color-orb::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 50%;
    background: linear-gradient(to top, rgba(0,0,0,0.15), transparent);
    border-radius: 0 0 50% 50%;
}

@keyframes orbPulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 0 4px rgba(255,255,255,0.3), 0 0 25px var(--orb-glow, rgba(59, 130, 246, 0.5)), inset 0 -8px 16px rgba(0,0,0,0.2), inset 0 8px 16px rgba(255,255,255,0.3);
    }
    50% {
        transform: scale(1.12);
        box-shadow: 0 0 0 6px rgba(255,255,255,0.4), 0 0 40px var(--orb-glow, rgba(59, 130, 246, 0.7)), inset 0 -8px 16px rgba(0,0,0,0.15), inset 0 8px 16px rgba(255,255,255,0.4);
    }
}

.orb-wave {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 2px solid var(--orb-color, #3b82f6);
    opacity: 0;
    animation: orbWaveExpand 4.5s ease-out infinite;
}

.orb-wave:nth-child(2) { animation-delay: 1.5s; }
.orb-wave:nth-child(3) { animation-delay: 1.2s; }

@keyframes orbWaveExpand {
    0% { transform: scale(1); opacity: 0.6; }
    100% { transform: scale(1.8); opacity: 0; }
}

.orb-bubble {
    position: absolute;
    background: rgba(255,255,255,0.4);
    border-radius: 50%;
}

.orb-bubble:nth-child(4) { width: 6px; height: 6px; bottom: 10px; left: 30%; animation: orbBubbleRise 4.5s ease-in-out infinite; }
.orb-bubble:nth-child(5) { width: 4px; height: 4px; bottom: 8px; left: 55%; animation: orbBubbleRise 4.5s ease-in-out 0.5s infinite; }
.orb-bubble:nth-child(6) { width: 5px; height: 5px; bottom: 12px; left: 70%; animation: orbBubbleRise 4.5s ease-in-out 1s infinite; }

@keyframes orbBubbleRise {
    0% { transform: translateY(0); opacity: 0.8; }
    100% { transform: translateY(-25px); opacity: 0; }
}

/* Orb Colors */
.orb-blue { --orb-color: #3b82f6; --orb-glow: rgba(59, 130, 246, 0.5); }
.orb-green { --orb-color: #22c55e; --orb-glow: rgba(34, 197, 94, 0.5); }
.orb-yellow { --orb-color: #eab308; --orb-glow: rgba(234, 179, 8, 0.5); }
.orb-purple { --orb-color: #a855f7; --orb-glow: rgba(168, 85, 247, 0.5); }
.orb-orange { --orb-color: #f97316; --orb-glow: rgba(249, 115, 22, 0.5); }
.orb-red { --orb-color: #ef4444; --orb-glow: rgba(239, 68, 68, 0.5); }
.orb-pink { --orb-color: #ec4899; --orb-glow: rgba(236, 72, 153, 0.5); }
.orb-clear { --orb-color: rgba(255,255,255,0.8); --orb-glow: rgba(255, 255, 255, 0.3); border: 1px solid #e2e8f0; }

/* =============================================
   TYPE 6: Pulse Ring
   - 脉冲环扩散
   - 用于: 危险/毒性警告
   ============================================= */
.ion-anim-pulse {
    background: radial-gradient(circle, rgba(239, 68, 68, 0.08) 0%, transparent 70%);
    overflow: visible;
}

.pulse-center {
    width: 28px;
    height: 28px;
    background: var(--pulse-color, #ef4444);
    border-radius: 50%;
    position: relative;
    z-index: 3;
    box-shadow:
        0 0 20px var(--pulse-glow, rgba(239, 68, 68, 0.6)),
        inset 0 -4px 8px rgba(0,0,0,0.2),
        inset 0 4px 8px rgba(255,255,255,0.3);
    animation: pulseCore 3.5s ease-in-out infinite;
}

.pulse-center::before {
    content: '';
    position: absolute;
    top: 4px;
    left: 6px;
    width: 8px;
    height: 6px;
    background: rgba(255,255,255,0.4);
    border-radius: 50%;
    transform: rotate(-30deg);
}

.pulse-center::after {
    content: '!';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 14px;
    font-weight: bold;
    color: white;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

@keyframes pulseCore {
    0%, 100% { transform: scale(1); box-shadow: 0 0 20px var(--pulse-glow, rgba(239, 68, 68, 0.6)), inset 0 -4px 8px rgba(0,0,0,0.2), inset 0 4px 8px rgba(255,255,255,0.3); }
    50% { transform: scale(1.15); box-shadow: 0 0 35px var(--pulse-glow, rgba(239, 68, 68, 0.8)), inset 0 -4px 8px rgba(0,0,0,0.15), inset 0 4px 8px rgba(255,255,255,0.4); }
}

.pulse-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 28px;
    height: 28px;
    border: 3px solid var(--pulse-color, #ef4444);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
}

.ion-anim-pulse .pulse-ring {
    animation: pulseExpand 6s ease-out infinite;
}

.pulse-ring:nth-child(2) { animation-delay: 1s; }
.pulse-ring:nth-child(3) { animation-delay: 0.8s; }

@keyframes pulseExpand {
    0% { width: 28px; height: 28px; opacity: 0.9; border-width: 3px; }
    100% { width: 70px; height: 70px; opacity: 0; border-width: 1px; }
}

.pulse-particle {
    position: absolute;
    width: 5px;
    height: 5px;
    background: var(--pulse-color, #ef4444);
    border-radius: 50%;
    box-shadow: 0 0 6px var(--pulse-glow, rgba(239, 68, 68, 0.6));
}

.pulse-particle:nth-child(4) { animation: pulseFloat 4.5s ease-in-out infinite; }
.pulse-particle:nth-child(5) { animation: pulseFloat 4.5s ease-in-out 0.5s infinite; }
.pulse-particle:nth-child(6) { animation: pulseFloat 4.5s ease-in-out 1s infinite; }
.pulse-particle:nth-child(7) { animation: pulseFloat 4.5s ease-in-out 1.5s infinite; }

.pulse-particle:nth-child(4) { top: 15%; left: 20%; }
.pulse-particle:nth-child(5) { top: 20%; right: 18%; }
.pulse-particle:nth-child(6) { bottom: 18%; left: 22%; }
.pulse-particle:nth-child(7) { bottom: 15%; right: 20%; }

@keyframes pulseFloat {
    0%, 100% { transform: scale(0.6); opacity: 0.4; }
    50% { transform: scale(1.2); opacity: 1; }
}

.pulse-wave {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: radial-gradient(circle, var(--pulse-color, #ef4444) 0%, transparent 70%);
    opacity: 0;
    animation: pulseWave 4.5s ease-out infinite;
}

.pulse-wave:nth-child(9) { animation-delay: 1s; }

@keyframes pulseWave {
    0% { width: 30px; height: 30px; opacity: 0.5; }
    100% { width: 80px; height: 80px; opacity: 0; }
}

/* Pulse Colors */
.pulse-red { --pulse-color: #ef4444; --pulse-glow: rgba(239, 68, 68, 0.6); }
.pulse-orange { --pulse-color: #f97316; --pulse-glow: rgba(249, 115, 22, 0.6); }
.pulse-yellow { --pulse-color: #eab308; --pulse-glow: rgba(234, 179, 8, 0.6); }

/* =============================================
   TYPE 7: Battery Charge
   - 电池充电动画
   - 用于: 电池/电化学
   ============================================= */
.ion-anim-battery {
    flex-direction: column;
    gap: 2px;
}

.battery-body {
    width: 44px;
    height: 24px;
    border: 3px solid #1f2937;
    border-radius: 5px;
    position: relative;
    overflow: hidden;
}

.battery-body::after {
    content: '';
    position: absolute;
    right: -6px;
    top: 5px;
    width: 4px;
    height: 12px;
    background: #1f2937;
    border-radius: 0 3px 3px 0;
}

.battery-fill {
    height: 100%;
    width: 30%;
    background: linear-gradient(90deg, #22c55e, #4ade80);
    animation: batteryCharge 4.5s ease-in-out infinite;
}

@keyframes batteryCharge {
    0%, 100% { width: 30%; }
    50% { width: 100%; }
}

/* =============================================
   TYPE 8: Crystallize
   - 晶体生长动画
   - 用于: 结晶
   ============================================= */
.ion-anim-crystal {
    background: linear-gradient(135deg, rgba(56, 189, 248, 0.08), rgba(14, 165, 233, 0.15));
    overflow: hidden;
}

.crystal-core {
    width: 18px;
    height: 18px;
    background: linear-gradient(135deg, #7dd3fc, #0ea5e9, #0284c7);
    transform: rotate(45deg);
    box-shadow:
        0 0 15px rgba(14, 165, 233, 0.6),
        inset 0 0 8px rgba(255,255,255,0.4);
    animation: crystalSpin 4s linear infinite;
    position: relative;
    z-index: 3;
}

.crystal-core::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 6px;
    height: 6px;
    background: rgba(255,255,255,0.5);
    border-radius: 1px;
}

@keyframes crystalSpin {
    0% { transform: rotate(45deg) scale(1); }
    25% { transform: rotate(45deg) scale(1.15); }
    50% { transform: rotate(45deg) scale(1); }
    75% { transform: rotate(45deg) scale(1.1); }
    100% { transform: rotate(45deg) scale(1); }
}

.crystal-arm {
    position: absolute;
    width: 5px;
    height: 22px;
    background: linear-gradient(to top, #38bdf8 0%, #0ea5e9 50%, #0284c7 100%);
    box-shadow: 0 0 8px rgba(56, 189, 248, 0.5);
    z-index: 2;
}

.crystal-arm:nth-child(1) { top: 8px; left: 50%; transform: translateX(-50%); animation: crystalGrow1 2s ease-in-out infinite; }
.crystal-arm:nth-child(2) { bottom: 8px; left: 50%; transform: translateX(-50%); animation: crystalGrow1 2s ease-in-out 0.25s infinite; }
.crystal-arm:nth-child(3) { top: 50%; left: 8px; transform: translateY(-50%) rotate(90deg); animation: crystalGrow2 2s ease-in-out 0.5s infinite; }
.crystal-arm:nth-child(4) { top: 50%; right: 8px; transform: translateY(-50%) rotate(90deg); animation: crystalGrow2 2s ease-in-out 0.75s infinite; }

/* 斜向晶臂 */
.crystal-arm-diag {
    position: absolute;
    width: 4px;
    height: 16px;
    background: linear-gradient(to top, #7dd3fc, #38bdf8);
    box-shadow: 0 0 6px rgba(125, 211, 252, 0.4);
    z-index: 1;
}

.crystal-arm-diag:nth-child(5) { top: 12px; left: 12px; transform: rotate(-45deg); animation: crystalGrowDiag 4.5s ease-in-out infinite; }
.crystal-arm-diag:nth-child(6) { top: 12px; right: 12px; transform: rotate(45deg); animation: crystalGrowDiag 4.5s ease-in-out 0.3s infinite; }
.crystal-arm-diag:nth-child(7) { bottom: 12px; left: 12px; transform: rotate(45deg); animation: crystalGrowDiag 4.5s ease-in-out 0.6s infinite; }
.crystal-arm-diag:nth-child(8) { bottom: 12px; right: 12px; transform: rotate(-45deg); animation: crystalGrowDiag 4.5s ease-in-out 0.9s infinite; }

@keyframes crystalGrow1 {
    0%, 100% { height: 16px; opacity: 0.7; }
    50% { height: 26px; opacity: 1; }
}

@keyframes crystalGrow2 {
    0%, 100% { height: 14px; opacity: 0.7; }
    50% { height: 24px; opacity: 1; }
}

@keyframes crystalGrowDiag {
    0%, 100% { height: 10px; opacity: 0.5; }
    50% { height: 18px; opacity: 0.9; }
}

.crystal-sparkle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: white;
    border-radius: 50%;
    box-shadow: 0 0 6px #7dd3fc;
}

.crystal-sparkle:nth-child(9) { top: 15%; left: 20%; animation: crystalSparkle 3.5s ease infinite; }
.crystal-sparkle:nth-child(10) { top: 25%; right: 18%; animation: crystalSparkle 3.5s ease 0.3s infinite; }
.crystal-sparkle:nth-child(11) { bottom: 20%; left: 22%; animation: crystalSparkle 3.5s ease 0.6s infinite; }
.crystal-sparkle:nth-child(12) { bottom: 25%; right: 20%; animation: crystalSparkle 3.5s ease 0.9s infinite; }

@keyframes crystalSparkle {
    0%, 100% { transform: scale(0); opacity: 0; }
    50% { transform: scale(1.2); opacity: 1; }
}

/* =============================================
   TYPE 9: Electron Flow
   - 电子流动
   - 用于: 导电性
   ============================================= */
.ion-anim-electron {
    background: linear-gradient(90deg, rgba(99, 102, 241, 0.05), rgba(99, 102, 241, 0.1), rgba(99, 102, 241, 0.05));
}

.electron-wire {
    width: 40px;
    height: 3px;
    background: #64748b;
    border-radius: 2px;
    position: relative;
    overflow: visible;
}

.electron-dot {
    width: 6px;
    height: 6px;
    background: #6366f1;
    border-radius: 50%;
    position: absolute;
    top: -1.5px;
    left: -6px;
    box-shadow: 0 0 6px rgba(99, 102, 241, 0.6);
    opacity: 0;
}

.ion-anim-electron .electron-dot {
    animation: electronMove 4.5s linear infinite;
}

.electron-dot:nth-child(2) { animation-delay: 1.5s; }
.electron-dot:nth-child(3) { animation-delay: 1.2s; }

@keyframes electronMove {
    0% { left: -6px; opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { left: 40px; opacity: 0; }
}

/* =============================================
   TYPE 10: Precipitate Cloud
   - 沉淀云雾
   - 用于: 沉淀反应
   ============================================= */
.ion-anim-precipitate {
    background: linear-gradient(180deg, rgba(241, 245, 249, 0.3), rgba(203, 213, 225, 0.4));
    overflow: hidden;
    flex-direction: column;
}

.ppt-cloud {
    width: 30px;
    height: 22px;
    background: var(--ppt-color, #94a3b8);
    border-radius: 50%;
    position: relative;
    box-shadow: 0 4px 12px rgba(0,0,0,0.35), inset 0 -2px 4px rgba(0,0,0,0.1);
    animation: pptFloat 4.5s ease-in-out infinite;
}

@keyframes pptFloat {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-4px) scale(1.05); }
}

.ppt-cloud::before,
.ppt-cloud::after {
    content: '';
    position: absolute;
    background: inherit;
    border-radius: 50%;
}

.ppt-cloud::before {
    width: 16px;
    height: 16px;
    top: -7px;
    left: 4px;
}

.ppt-cloud::after {
    width: 14px;
    height: 14px;
    top: -5px;
    right: 2px;
}

.ppt-fall {
    position: absolute;
    width: 6px;
    height: 6px;
    background: var(--ppt-color, #cbd5e1);
    border-radius: 50%;
    opacity: 0;
}

.ppt-fall:nth-child(1) { left: 25%; animation: pptFall 3.5s ease-in infinite; }
.ppt-fall:nth-child(2) { left: 45%; animation: pptFall 3.5s ease-in 0.3s infinite; }
.ppt-fall:nth-child(3) { left: 65%; animation: pptFall 3.5s ease-in 0.6s infinite; }
.ppt-fall:nth-child(4) { left: 35%; animation: pptFall 3.5s ease-in 0.9s infinite; }
.ppt-fall:nth-child(5) { left: 55%; animation: pptFall 3.5s ease-in 1.2s infinite; }

@keyframes pptFall {
    0% { top: 35%; opacity: 0; transform: scale(0.5); }
    20% { opacity: 0.9; }
    100% { top: 90%; opacity: 0.3; transform: scale(0.8); }
}

.ppt-sediment {
    position: absolute;
    bottom: 4px;
    left: 50%;
    transform: translateX(-50%);
    width: 50px;
    height: 10px;
    background: var(--ppt-color, #cbd5e1);
    border-radius: 50%;
    opacity: 0.7;
    animation: pptGrow 6s ease-in-out infinite;
    box-shadow: 0 -2px 4px rgba(0,0,0,0.1);
}

@keyframes pptGrow {
    0%, 100% { width: 40px; height: 8px; opacity: 0.5; }
    50% { width: 56px; height: 12px; opacity: 0.8; }
}

/* Precipitate Colors */
.ppt-white { --ppt-color: #94a3b8; }
.ppt-cream { --ppt-color: #d97706; }
.ppt-yellow { --ppt-color: #eab308; }
.ppt-brown { --ppt-color: #78350f; }
.ppt-black { --ppt-color: #1f2937; }
.ppt-green { --ppt-color: #16a34a; }
.ppt-blue { --ppt-color: #3b82f6; }

/* =============================================
   TYPE 11: Plant Growth
   - 植物生长动画
   - 用于: 肥料/养分
   ============================================= */
.ion-anim-plant {
    align-items: flex-end;
    padding-bottom: 4px;
    background: linear-gradient(to top, rgba(34, 197, 94, 0.08), transparent);
}

.plant-stem {
    width: 4px;
    height: 28px;
    background: #22c55e;
    border-radius: 2px;
    position: relative;
    animation: plantGrow 4.5s ease-in-out infinite;
}

@keyframes plantGrow {
    0%, 100% { height: 28px; }
    50% { height: 38px; }
}

.plant-leaf {
    width: 16px;
    height: 10px;
    background: #4ade80;
    border-radius: 0 80% 0 80%;
    position: absolute;
    transform-origin: left center;
    animation: leafWave 4.5s ease-in-out infinite;
}

@keyframes leafWave {
    0%, 100% { transform: rotate(-20deg) scale(1); opacity: 0.8; }
    50% { transform: rotate(-10deg) scale(1.1); opacity: 1; }
}

.plant-leaf:nth-child(1) { top: 2px; left: 3px; }
.plant-leaf:nth-child(2) { top: 8px; right: 3px; left: auto; border-radius: 80% 0 80% 0; animation-delay: 0.7s; }

/* =============================================
   TYPE 12: Bone Structure
   - 骨骼强化
   - 用于: 钙/骨骼健康
   ============================================= */
.ion-anim-bone {
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.05), rgba(254, 243, 199, 0.15));
    overflow: hidden;
}

.bone-shape {
    width: 48px;
    height: 18px;
    background: linear-gradient(180deg, #f5f5f4, #e7e5e4, #d6d3d1);
    border-radius: 9px;
    position: relative;
    box-shadow:
        inset 0 2px 4px rgba(255,255,255,0.8),
        inset 0 -2px 4px rgba(0,0,0,0.1),
        0 3px 6px rgba(0,0,0,0.15);
    animation: boneStrength 6s ease-in-out infinite;
    z-index: 2;
}

@keyframes boneStrength {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.08); }
}

.bone-shape::before,
.bone-shape::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 22px;
    background: linear-gradient(180deg, #f5f5f4, #e7e5e4);
    border-radius: 50%;
    top: -2px;
    box-shadow:
        inset 0 2px 4px rgba(255,255,255,0.6),
        0 2px 4px rgba(0,0,0,0.1);
}

.bone-shape::before { left: -5px; }
.bone-shape::after { right: -5px; }

.bone-glow {
    position: absolute;
    width: 56px;
    height: 28px;
    border-radius: 14px;
    background: radial-gradient(ellipse, rgba(251, 191, 36, 0.5) 0%, transparent 70%);
    animation: boneGlow 4.5s ease-in-out infinite;
    z-index: 1;
}

@keyframes boneGlow {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.2); }
}

.bone-particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: #fbbf24;
    border-radius: 50%;
    box-shadow: 0 0 6px rgba(251, 191, 36, 0.8);
    opacity: 0;
}

.bone-particle:nth-child(1) { animation: boneAbsorb 4.5s ease-in infinite; }
.bone-particle:nth-child(2) { animation: boneAbsorb 4.5s ease-in 0.4s infinite; }
.bone-particle:nth-child(3) { animation: boneAbsorb 4.5s ease-in 0.8s infinite; }
.bone-particle:nth-child(4) { animation: boneAbsorb 4.5s ease-in 1.2s infinite; }
.bone-particle:nth-child(5) { animation: boneAbsorb 4.5s ease-in 1.6s infinite; }

.bone-particle:nth-child(1) { top: 10%; left: 20%; }
.bone-particle:nth-child(2) { top: 15%; right: 25%; }
.bone-particle:nth-child(3) { bottom: 15%; left: 30%; }
.bone-particle:nth-child(4) { bottom: 10%; right: 20%; }
.bone-particle:nth-child(5) { top: 50%; left: 10%; }

@keyframes boneAbsorb {
    0% { opacity: 1; transform: scale(1); }
    100% { opacity: 0; transform: scale(0.3) translate(10px, 10px); }
}

.bone-ring {
    position: absolute;
    width: 30px;
    height: 16px;
    border: 2px solid rgba(251, 191, 36, 0.4);
    border-radius: 50%;
    animation: boneRing 3.5s ease-out infinite;
}

.bone-ring:nth-child(7) { animation-delay: 1.2s; }

@keyframes boneRing {
    0% { width: 30px; height: 16px; opacity: 0.6; }
    100% { width: 70px; height: 40px; opacity: 0; }
}

/* =============================================
   TYPE 13: Shield Protect
   - 保护盾牌
   - 用于: 保护/防腐
   ============================================= */
.ion-anim-shield {
    background: transparent;
    overflow: visible;
}

.shield-icon {
    width: 40px;
    height: 46px;
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 50%, #1e40af 100%);
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    position: relative;
    animation: shieldPulse 4.5s ease-in-out infinite;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
}

.shield-icon::before {
    content: '';
    position: absolute;
    top: 8px;
    left: 50%;
    transform: translateX(-50%);
    width: 14px;
    height: 14px;
    background: rgba(255,255,255,0.3);
    border-radius: 50%;
    animation: shieldCore 3.5s ease-in-out infinite;
}

.shield-icon::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 16px;
    color: white;
    font-weight: bold;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

@keyframes shieldCore {
    0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.3; }
    50% { transform: translateX(-50%) scale(1.3); opacity: 0.6; }
}

@keyframes shieldPulse {
    0%, 100% { transform: scale(1); filter: brightness(1); }
    50% { transform: scale(1.06); filter: brightness(1.15); }
}

.shield-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 30px;
    height: 36px;
    border: 2px solid rgba(59, 130, 246, 0.6);
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    opacity: 0;
    animation: shieldExpand 3.5s ease-out infinite;
}

.shield-ring:nth-child(2) { animation-delay: 1.2s; }
.shield-ring:nth-child(3) { animation-delay: 1s; }

@keyframes shieldExpand {
    0% { width: 30px; height: 36px; opacity: 0.8; }
    100% { width: 70px; height: 80px; opacity: 0; }
}

.shield-spark {
    position: absolute;
    width: 4px;
    height: 4px;
    background: #60a5fa;
    border-radius: 50%;
    box-shadow: 0 0 6px #3b82f6;
}

.shield-spark:nth-child(4) { top: 20%; left: 15%; animation: sparkFloat 4.5s ease-in-out infinite; }
.shield-spark:nth-child(5) { top: 30%; right: 15%; animation: sparkFloat 4.5s ease-in-out 0.4s infinite; }
.shield-spark:nth-child(6) { bottom: 30%; left: 20%; animation: sparkFloat 4.5s ease-in-out 0.8s infinite; }
.shield-spark:nth-child(7) { bottom: 25%; right: 20%; animation: sparkFloat 4.5s ease-in-out 1.2s infinite; }

@keyframes sparkFloat {
    0%, 100% { opacity: 0.4; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1.2); }
}

/* =============================================
   TYPE 14: Water Drop
   - 水滴涟漪
   - 用于: 水溶性/亲水性
   ============================================= */
.ion-anim-water {
    background: linear-gradient(to bottom, rgba(59, 130, 246, 0.05), rgba(59, 130, 246, 0.15));
    border-radius: 14px 14px 50% 50%;
}

.water-drop {
    width: 14px;
    height: 18px;
    background: linear-gradient(135deg, #93c5fd, #3b82f6);
    border-radius: 50% 50% 50% 50% / 30% 30% 70% 70%;
    position: relative;
}

.water-ripple {
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 20px;
    height: 6px;
    border: 1.5px solid rgba(59, 130, 246, 0.5);
    border-radius: 50%;
    animation: rippleOut 6s ease-out infinite;
}

.water-ripple:nth-child(2) { animation-delay: 1s; }

@keyframes rippleOut {
    0% { width: 20px; opacity: 0.8; }
    100% { width: 40px; opacity: 0; }
}

/* =============================================
   TYPE 15: Magnet Attract
   - 磁性吸引
   - 用于: 磁性/吸附
   ============================================= */
.ion-anim-magnet {
    background: linear-gradient(180deg, rgba(239, 68, 68, 0.05), rgba(59, 130, 246, 0.08));
    overflow: hidden;
}

.magnet-u {
    width: 40px;
    height: 28px;
    border: 6px solid;
    border-top: none;
    border-radius: 0 0 20px 20px;
    border-color: #ef4444;
    position: relative;
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
    animation: magnetPulse 3s ease-in-out infinite;
}

@keyframes magnetPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.magnet-u::before {
    content: '';
    position: absolute;
    top: -6px;
    left: -6px;
    width: 12px;
    height: 14px;
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-radius: 3px 0 0 0;
}

.magnet-u::after {
    content: '';
    position: absolute;
    top: -6px;
    right: -6px;
    width: 12px;
    height: 14px;
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    border-radius: 0 3px 0 0;
}

.magnet-particle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    border-radius: 50%;
    opacity: 0;
    box-shadow: 0 0 8px rgba(251, 191, 36, 0.6);
}

.ion-anim-magnet .magnet-particle {
    animation: magnetPull 4s ease-in infinite;
}

.magnet-particle:nth-child(1) { top: 5px; left: 15%; }
.magnet-particle:nth-child(2) { top: 10px; left: 70%; animation-delay: 1.3s; }
.magnet-particle:nth-child(3) { top: 0px; left: 45%; animation-delay: 0.7s; }

@keyframes magnetPull {
    0% { opacity: 1; transform: translateY(-20px) scale(0.6); }
    50% { opacity: 1; transform: translateY(10px) scale(1); }
    100% { opacity: 0; transform: translateY(30px) scale(0.8); }
}

/* =============================================
   TYPE 16: Tooth Health
   - 牙齿保护
   - 用于: 氟化物/牙齿
   ============================================= */
.ion-anim-tooth {
    background: linear-gradient(180deg, rgba(59, 130, 246, 0.05), rgba(147, 197, 253, 0.12));
    overflow: hidden;
}

.tooth-shape {
    width: 30px;
    height: 38px;
    background: linear-gradient(180deg, #ffffff 0%, #f5f5f4 50%, #e7e5e4 100%);
    border-radius: 10px 10px 6px 6px;
    position: relative;
    box-shadow:
        0 3px 10px rgba(0,0,0,0.2),
        inset 0 2px 4px rgba(255,255,255,1),
        inset 0 -3px 6px rgba(0,0,0,0.08);
    animation: toothShine 6s ease-in-out infinite;
    z-index: 2;
}

@keyframes toothShine {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.1); }
}

.tooth-shape::before,
.tooth-shape::after {
    content: '';
    position: absolute;
    bottom: -10px;
    width: 10px;
    height: 16px;
    background: linear-gradient(180deg, #f5f5f4, #e7e5e4);
    border-radius: 0 0 5px 5px;
    box-shadow: 0 3px 5px rgba(0,0,0,0.12);
}

.tooth-shape::before { left: 3px; }
.tooth-shape::after { right: 3px; }

.tooth-sparkle {
    position: absolute;
    background: white;
    border-radius: 50%;
    box-shadow: 0 0 10px rgba(255,255,255,0.9), 0 0 20px rgba(147, 197, 253, 0.5);
}

.tooth-sparkle:nth-child(1) {
    width: 10px;
    height: 10px;
    top: 8px;
    left: 6px;
    animation: sparkleMain 4.5s ease infinite;
}

.tooth-sparkle:nth-child(2) {
    width: 5px;
    height: 5px;
    top: 12px;
    right: 8px;
    animation: sparkleSub 4.5s ease 0.3s infinite;
}

.tooth-sparkle:nth-child(3) {
    width: 4px;
    height: 4px;
    top: 20px;
    left: 10px;
    animation: sparkleSub 4.5s ease 0.6s infinite;
}

@keyframes sparkleMain {
    0%, 100% { transform: scale(0.8); opacity: 0.6; box-shadow: 0 0 6px rgba(255,255,255,0.6); }
    50% { transform: scale(1.3); opacity: 1; box-shadow: 0 0 15px rgba(255,255,255,1), 0 0 25px rgba(147, 197, 253, 0.6); }
}

@keyframes sparkleSub {
    0%, 100% { transform: scale(0.6); opacity: 0.4; }
    50% { transform: scale(1.2); opacity: 1; }
}

.tooth-shield {
    position: absolute;
    top: 0;
    left: -5px;
    width: 40px;
    height: 45px;
    border: 2px solid rgba(59, 130, 246, 0.4);
    border-radius: 12px 12px 8px 8px;
    animation: toothProtect 4.5s ease-in-out infinite;
    z-index: 1;
}

@keyframes toothProtect {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.1); }
}

.fluoride-particle {
    position: absolute;
    width: 5px;
    height: 5px;
    background: #60a5fa;
    border-radius: 50%;
    box-shadow: 0 0 6px rgba(96, 165, 250, 0.8);
    opacity: 0;
}

.fluoride-particle:nth-child(5) { top: 5%; left: 15%; animation: fluorideAbsorb 4.5s ease-in infinite; }
.fluoride-particle:nth-child(6) { top: 10%; right: 10%; animation: fluorideAbsorb 4.5s ease-in 0.4s infinite; }
.fluoride-particle:nth-child(7) { top: 35%; left: 8%; animation: fluorideAbsorb 4.5s ease-in 0.8s infinite; }
.fluoride-particle:nth-child(8) { top: 40%; right: 12%; animation: fluorideAbsorb 4.5s ease-in 1.2s infinite; }

@keyframes fluorideAbsorb {
    0% { opacity: 1; transform: scale(1); }
    100% { opacity: 0; transform: scale(0.3) translateY(15px); }
}

/* =============================================
   TYPE 17: Sun Rays
   - 阳光射线
   - 用于: 光敏性/光化学
   ============================================= */
.ion-anim-sun {
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(251, 191, 36, 0.2));
}

.sun-core {
    width: 28px;
    height: 28px;
    background: #fbbf24;
    border-radius: 50%;
    position: relative;
    box-shadow: 0 0 16px rgba(251, 191, 36, 0.6);
}

.sun-ray {
    position: absolute;
    width: 4px;
    height: 10px;
    background: #fbbf24;
    border-radius: 2px;
    transform-origin: center 22px;
    animation: sunRayPulse 3.5s ease-in-out infinite;
}

@keyframes sunRayPulse {
    0%, 100% { height: 10px; opacity: 0.7; }
    50% { height: 14px; opacity: 1; }
}

/* =============================================
   TYPE 18: Medicine Pill
   - 药丸/胶囊
   - 用于: 医疗/药物
   ============================================= */
.ion-anim-pill {
    background: transparent;
}

.pill-shape {
    width: 44px;
    height: 18px;
    border-radius: 9px;
    overflow: hidden;
    display: flex;
    box-shadow: 0 2px 6px rgba(0,0,0,0.25);
    animation: pillFloat 4.5s ease-in-out infinite;
}

.pill-half {
    flex: 1;
    height: 100%;
}

.pill-half:first-child {
    background: linear-gradient(135deg, #ef4444, #dc2626);
}

.pill-half:last-child {
    background: linear-gradient(135deg, #f8fafc, #e2e8f0);
}

@keyframes pillFloat {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(-8deg) scale(1.05); }
}

/* =============================================
   TYPE 19: Lightning Bolt
   - 闪电/能量
   - 用于: 高能量反应
   ============================================= */
.ion-anim-lightning {
    background: linear-gradient(180deg, rgba(251, 191, 36, 0.08), rgba(251, 191, 36, 0.2));
    overflow: hidden;
}

.lightning-bolt {
    width: 20px;
    height: 36px;
    position: relative;
    filter: drop-shadow(0 0 8px rgba(251, 191, 36, 0.8));
}

.lightning-bolt::before {
    content: '';
    position: absolute;
    top: 0;
    left: 2px;
    width: 0;
    height: 0;
    border-left: 10px solid transparent;
    border-right: 10px solid #fbbf24;
    border-bottom: 18px solid #fbbf24;
    border-top: 0;
}

.lightning-bolt::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 2px;
    width: 0;
    height: 0;
    border-left: 10px solid #fbbf24;
    border-right: 10px solid transparent;
    border-top: 18px solid #fbbf24;
    border-bottom: 0;
}

.ion-anim-lightning .lightning-bolt {
    animation: lightningFlash 5s ease infinite;
}

@keyframes lightningFlash {
    0%, 20%, 40%, 100% { opacity: 1; filter: drop-shadow(0 0 8px rgba(251, 191, 36, 0.8)) brightness(1); }
    10%, 30% { opacity: 0; filter: drop-shadow(0 0 0 transparent) brightness(2); }
}

.lightning-branch {
    position: absolute;
    width: 3px;
    height: 16px;
    background: #fcd34d;
    opacity: 0;
    filter: blur(1px);
}

.lightning-branch:nth-child(1) {
    top: 10px;
    left: -8px;
    transform: rotate(-30deg);
    animation: branchFlash 4.5s ease infinite;
}
.lightning-branch:nth-child(2) {
    top: 20px;
    right: -10px;
    transform: rotate(25deg);
    animation: branchFlash 4.5s ease 0.15s infinite;
}
.lightning-branch:nth-child(3) {
    bottom: 15px;
    left: -6px;
    transform: rotate(-20deg);
    animation: branchFlash 4.5s ease 0.3s infinite;
}

@keyframes branchFlash {
    0%, 15%, 100% { opacity: 0; }
    5%, 10% { opacity: 0.9; }
}

.lightning-energy {
    position: absolute;
    width: 60px;
    height: 60px;
    border: 2px solid rgba(251, 191, 36, 0.4);
    border-radius: 50%;
    animation: energyPulse 5s ease-out infinite;
}

.lightning-energy:nth-child(5) { animation-delay: 0.33s; }
.lightning-energy:nth-child(6) { animation-delay: 0.66s; }

@keyframes energyPulse {
    0% { width: 20px; height: 20px; opacity: 0.8; }
    100% { width: 70px; height: 70px; opacity: 0; }
}

.lightning-spark {
    position: absolute;
    width: 3px;
    height: 3px;
    background: #fff7ed;
    border-radius: 50%;
    box-shadow: 0 0 4px #fbbf24;
}

.lightning-spark:nth-child(7) { top: 10%; left: 20%; animation: sparkBurst 4s ease infinite; }
.lightning-spark:nth-child(8) { top: 30%; right: 15%; animation: sparkBurst 4s ease 0.1s infinite; }
.lightning-spark:nth-child(9) { bottom: 20%; left: 25%; animation: sparkBurst 4s ease 0.2s infinite; }
.lightning-spark:nth-child(10) { bottom: 35%; right: 20%; animation: sparkBurst 4s ease 0.3s infinite; }

@keyframes sparkBurst {
    0%, 100% { transform: scale(0); opacity: 0; }
    50% { transform: scale(1.5); opacity: 1; }
}

/* =============================================
   TYPE 20: DNA Helix
   - DNA螺旋
   - 用于: 生物/遗传
   ============================================= */
.ion-anim-dna {
    background: linear-gradient(135deg, rgba(147, 51, 234, 0.05), rgba(147, 51, 234, 0.1));
    overflow: hidden;
}

.dna-strand {
    width: 24px;
    height: 40px;
    position: relative;
}

.dna-node {
    width: 6px;
    height: 6px;
    background: #a855f7;
    border-radius: 50%;
    position: absolute;
    left: 0;
}

.dna-node:nth-child(1) { top: 0; animation: dnaWave 3.5s ease-in-out infinite; }
.dna-node:nth-child(2) { top: 10px; animation: dnaWave 3.5s ease-in-out 0.2s infinite; }
.dna-node:nth-child(3) { top: 20px; animation: dnaWave 3.5s ease-in-out 0.4s infinite; }
.dna-node:nth-child(4) { top: 30px; animation: dnaWave 3.5s ease-in-out 0.6s infinite; }

.dna-node-r {
    width: 6px;
    height: 6px;
    background: #c084fc;
    border-radius: 50%;
    position: absolute;
    right: 0;
}

.dna-node-r:nth-child(5) { top: 0; animation: dnaWaveR 3.5s ease-in-out infinite; }
.dna-node-r:nth-child(6) { top: 10px; animation: dnaWaveR 3.5s ease-in-out 0.2s infinite; }
.dna-node-r:nth-child(7) { top: 20px; animation: dnaWaveR 3.5s ease-in-out 0.4s infinite; }
.dna-node-r:nth-child(8) { top: 30px; animation: dnaWaveR 3.5s ease-in-out 0.6s infinite; }

.dna-link {
    position: absolute;
    width: 12px;
    height: 2px;
    background: #d8b4fe;
    left: 6px;
}

.dna-link:nth-child(9) { top: 2px; }
.dna-link:nth-child(10) { top: 12px; }
.dna-link:nth-child(11) { top: 22px; }
.dna-link:nth-child(12) { top: 32px; }

@keyframes dnaWave {
    0%, 100% { transform: translateX(0); }
    50% { transform: translateX(6px); }
}

@keyframes dnaWaveR {
    0%, 100% { transform: translateX(0); }
    50% { transform: translateX(-6px); }
}

/* =============================================
   TYPE 21: Gas Fume
   - 刺鼻气体烟雾
   - 用于: 有毒气体/刺激性气味
   ============================================= */
.ion-anim-gas {
    background: transparent;
    overflow: hidden;
}

.gas-cloud {
    position: absolute;
    width: 22px;
    height: 16px;
    background: var(--gas-color, #6b7280);
    border-radius: 50%;
    opacity: 0;
    filter: blur(3px);
}

.gas-cloud:nth-child(1) { left: 10px; bottom: 10px; }
.gas-cloud:nth-child(2) { left: 28px; bottom: 14px; width: 18px; height: 14px; }
.gas-cloud:nth-child(3) { left: 44px; bottom: 8px; width: 16px; height: 12px; }

.ion-anim-gas .gas-cloud {
    animation: gasFume 6s ease-out infinite;
}

.gas-cloud:nth-child(2) { animation-delay: 1.2s !important; }
.gas-cloud:nth-child(3) { animation-delay: 1s !important; }

@keyframes gasFume {
    0% { opacity: 0; transform: translateY(0) scale(0.6); }
    30% { opacity: 0.8; }
    100% { opacity: 0; transform: translateY(-30px) scale(1.3); }
}

/* Gas Colors */
.gas-gray { --gas-color: #6b7280; }
.gas-yellow { --gas-color: #eab308; }
.gas-green { --gas-color: #22c55e; }
.gas-brown { --gas-color: #92400e; }
.gas-clear { --gas-color: #94a3b8; }

/* =============================================
   TYPE 22: Bleach Effect
   - 漂白效果
   - 用于: 漂白剂/脱色
   ============================================= */
.ion-anim-bleach {
    background: transparent;
    flex-direction: column;
    gap: 4px;
}

.bleach-paper {
    width: 56px;
    height: 40px;
    background-color: #fef3c7;
    border-radius: 6px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.15);
    animation: bleachPaper 5s ease-in-out infinite;
}

@keyframes bleachPaper {
    0% { background-color: #fef3c7; }
    25% { background-color: #fef9c3; }
    50% { background-color: #ffffff; }
    75% { background-color: #fef9c3; }
    100% { background-color: #fef3c7; }
}

.bleach-wave {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 3px;
    background: rgba(59, 130, 246, 0.6);
    border-radius: 2px;
    animation: bleachSpread 4.5s ease-out infinite;
}

@keyframes bleachSpread {
    0% { width: 0; opacity: 1; }
    100% { width: 50px; opacity: 0; }
}
